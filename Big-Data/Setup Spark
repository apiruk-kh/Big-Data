# Download Spark
hadoopuser@beer01:~$ wget https://dlcdn.apache.org/spark/spark-3.2.3/spark-3.2.3-bin-hadoop3.2-scala2.13.tgz

# Extract file
hadoopuser@beer01:~$ tar -zxvf spark-3.2.3-bin-hadoop3.2-scala2.13.tgz

# Check current path
hadoopuser@beer01:~$ pwd
/home/hadoopuser

# Move folder to /usr/local/spark
hadoopuser@beer01:~$ sudo mv spark-3.2.3-bin-hadoop3.2-scala2.13 /usr/local/spark

# Edit Spark Settings in the file ~/.bashrc
hadoopuser@beer01:~$ nano ~/.bashrc
export SPARK_HOME=/usr/local/spark/
export PYTHONPATH=$SPARK_HOME/python:$PYTHONPATH
export PATH=$PATH:$SPARK_HOME/bin:$SPARK_HOME/sbin
export PYSPARK_DRIVER_PYTHON="jupyter"
export PYSPARK_DRIVER_PYTHON_OPTS="notebook"
export PYSPARK_PYTHON=python3
export PATH=$SPARK_HOME:$PATH:~/.local/bin:$JAVA_HOME/bin

# Activate profile settings
hadoopuser@beer01:~$ source ~/.bashrc 

# Set an environment to work with python project
# Install python3.10-venv
hadoopuser@beer01:~$ sudo apt-get -y install python3.10-venv
hadoopuser@beer01:~$ sudo apt install python4-pip
hadoopuser@beer01:~/bigdata$ pip install jupyter
hadoopuser@beer01:~/bigdata$ source env_data/bin/activate
(env_data) hadoopuser@beer01:~/bigdata$ pip install --upgrade pip
(env_data) hadoopuser@beer01:~/bigdata$ pyspark